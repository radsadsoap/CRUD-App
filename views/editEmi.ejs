<%- include("dashboard") %>

<div class="flex flex-col p-4 w-1/3 gap-5 justify-center m-auto h-[80vh]">
    <h1 class="text-5xl mb-4">Edit EMI Record</h1>
    <form action="/editEmiSubmit" method="post">
        <input type="hidden" name="emiId" value="<%= emi._id %>" />
        <div class="mb-4 flex justify-between items-center">
            <label for="userEmail" class="block text-gray-700 text-sm font-bold mb-2">User Email</label>
            <input
                type="email"
                id="userEmail"
                name="userEmail"
                value="<%= emi.userEmail %>"
                required
                class="shadow appearance-none border rounded py-2 px-3 text-gray-700  focus:outline-none focus:shadow-outline"
            />
        </div>
        <div class="mb-4 flex justify-between items-center">
            <label for="dueDate" class="block text-gray-700 text-sm font-bold mb-2">Due Date</label>
            <input
                type="date"
                id="dueDate"
                name="dueDate"
                value="<%= emi.dueDate.toISOString().split('T')[0] %>"
                required
                class="shadow appearance-none border rounded  py-2 px-3 text-gray-700  focus:outline-none focus:shadow-outline"
            />
        </div>
        <div class="mb-4 flex justify-between items-center">
            <label for="emi_amount" class="block text-gray-700 text-sm font-bold mb-2">EMI Amount</label>
            <input
                type="number"
                id="emi_amount"
                name="emi_amount"
                value="<%= emi.emi_amount %>"
                required
                step="0.01"
                class="shadow appearance-none border rounded py-2 px-2 text-gray-700  focus:outline-none focus:shadow-outline"
            />
        </div>
        <div class="mb-4 flex justify-between items-center">
            <label for="interestRate" class="block text-gray-700 text-sm font-bold mb-2">Interest Rate (%)</label>
            <input
                type="number"
                id="interestRate"
                name="interestRate"
                value="<%= emi.interestRate %>"
                required
                step="0.01"
                class="shadow appearance-none border rounded  py-2 px-3 text-gray-700  focus:outline-none focus:shadow-outline"
            />
        </div>
        <div class="mb-4 flex justify-between items-center">
            <label for="remainingBalance" class="block text-gray-700 text-sm font-bold mb-2">Remaining Balance</label>
            <input
                type="number"
                id="remainingBalance"
                name="remainingBalance"
                value="<%= emi.remainingBalance %>"
                required
                step="0.01"
                class="shadow appearance-none border rounded  py-2 px-3 text-gray-700  focus:outline-none focus:shadow-outline"
            />
        </div>
        <div class="mb-4 flex justify-between items-center">
            <label for="status" class="block text-gray-700 text-sm font-bold mb-2">Status</label>
            <select
                id="status"
                name="status"
                required
                class="shadow appearance-none border rounded  py-2 px-3 text-gray-700  focus:outline-none focus:shadow-outline"
            >
                <option value="Pending" <%= emi.status === 'Pending' ? 'selected' : '' %>>Pending</option>
                <option value="Paid" <%= emi.status === 'Paid' ? 'selected' : '' %>>Paid</option>
                <option value="Overdue" <%= emi.status === 'Overdue' ? 'selected' : '' %>>Overdue</option>
            </select>
        </div>
        <div class="mb-4 flex justify-between items-center">
            <label for="nextPaymentDate" class="block text-gray-700 text-sm font-bold mb-2">Next Payment Date</label>
            <input
                type="date"
                id="nextPaymentDate"
                name="nextPaymentDate"
                value="<%= emi.nextPaymentDate.toISOString().split('T')[0] %>"
                required
                class="shadow appearance-none border rounded  py-2 px-3 text-gray-700  focus:outline-none focus:shadow-outline"
            />
        </div>
        <button
            type="submit"
            class="bg-black text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
        >
            Update EMI Record
        </button>
    </form>
</div>